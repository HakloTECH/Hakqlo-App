(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return format}));var dialog_polyfill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);function format(t){var e=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);t=t.toString();return n.length&&(t=t.replace(e,(function(t,e,o,i){var r=n.shift();switch(i){case"s":r=""+r;break;case"d":r=Number(r);break;case"j":r=JSON.stringify(r)}return e?(n.unshift(r),t):r}))),n.length&&(t+=" "+n.join(" ")),""+(t=t.replace(/%{2,2}/g,"%"))}window.anime=animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__.a,window.runExternal=function(url){var fetch_option=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET",headers:{"Content-Type":"text/javascript"},mode:"cors"};return new Promise((function(resolve,reject){fetch(url,fetch_option).then((function(t){return t.text()})).then((function(t){return resolve(eval(t))})).catch((function(t){return reject(t)}))}))},window.popup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{OK:"ok"};"string"==typeof e&&(e=[e]);var o=document.querySelectorAll("dialog"),i=o[o.length-1];o.forEach((function(t){t.setAttribute("class","sent-back")}));var r=document.createElement("dialog");dialog_polyfill__WEBPACK_IMPORTED_MODULE_0__.a.registerDialog(r),document.body.appendChild(r);var a=document.createElement("form");r.appendChild(a),a.setAttribute("method","dialog");var c=document.createElement("p");a.appendChild(c),c.setAttribute("class","title"),c.innerText=t;var s=document.createElement("button");s.innerText="cancel",s.setAttribute("value","cancel"),c.appendChild(s),e.forEach((function(t){var e=document.createElement("p");if("string"==typeof t){var n=document.createElement("label");e.appendChild(n),n.innerText=t}else t instanceof HTMLElement&&e.appendChild(t);a.appendChild(e)}));var l=document.createElement("menu");for(var u in a.appendChild(l),n){var d=document.createElement("button");d.innerHTML=u,l.appendChild(d),d.setAttribute("value",n[u]),d.setAttribute("type","submit")}return new Promise((function(t){r.addEventListener("close",(function(){setTimeout((function(){return r.remove()}),500),i&&i.removeAttribute("class"),t(r.returnValue)})),setTimeout((function(){return r.showModal()}),100)}))},window.createElementFromHTML=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},window.secretizeFunc=function(t){t.name?t.toString=function(){return"".concat(t.name,"(){ [ secret code ] }")}:t.toString=function(){return"()=>{ [ secret code ] }"}}},,,,function(t,e,n){"use strict";n.p},,,,,function(t,e){var n=document.querySelector("#startup");document.addEventListener("DOMContentLoaded",(function(){var t,e,o,i=document.querySelector("svg#logo_anime #logo_grad");i.setAttribute("x1","-20px"),i.setAttribute("x2","20px"),i.setAttribute("y1","-57.73502691896257px"),i.setAttribute("y2","57.73502691896257px");var r=document.querySelector("svg#logo_anime g"),a=function(){t=document.body.clientWidth,e=document.body.clientHeight,o=Math.max(t,e),r.setAttribute("transform","translate(".concat(t/2," ").concat(e/2,")"))};a(),window.addEventListener("resize",a),anime({targets:"svg#logo_anime path#centri",d:[{value:["M 0 0 l 0 0 l 0 0 z","M 0 0 l 0 0 l 0 0 z"],duration:5200/6},{value:"M 0 -23.094010767585026 l 20 34.64101615137754 l -40 0 z",duration:0}],duration:1300}),anime({targets:"svg#logo_anime path#around",d:[{value:[" M ".concat(.34641016151377546*o-20,"  ").concat(.6*o-57.73502691896257," l -10 17.32050807568877 l 10 17.32050807568877 l 20 0 z m ").concat(40-.6928203230275509*o,"  ").concat(34.64101615137754-1.2*o," l 20 0 l -20 -34.64101615137754 l -20 0 z M ").concat(59.999999999999986+.34641016151377546*o*-.4999999999999998-.6*o*.8660254037844387,"  ").concat(11.547005383792495+.34641016151377546*o*.8660254037844387+.6*o*-.4999999999999998," l -10.000000000000002 -17.32050807568877 l -20 5.329070518200751e-15 l -9.999999999999996 17.320508075688775 z m ").concat(-49.99999999999999-.6928203230275509*o*-.4999999999999998+1.2*o*.8660254037844387,"  ").concat(17.320508075688785-.6928203230275509*o*.8660254037844387-1.2*o*-.4999999999999998," l -9.999999999999996 17.320508075688775 l 40 -1.0658141036401503e-14 l 9.999999999999996 -17.320508075688775 z M ").concat(.34641016151377546*o*-.5000000000000004-39.99999999999998-.6*o*-.8660254037844385,"  ").concat(46.18802153517008+.34641016151377546*o*-.8660254037844385+.6*o*-.5000000000000004," l 20 -7.105427357601002e-15 l 9.999999999999993 -17.320508075688778 l -10.000000000000009 -17.32050807568877 z m ").concat(9.999999999999975-.6928203230275509*o*-.5000000000000004+1.2*o*-.8660254037844385,"  ").concat(-51.96152422706633-.6928203230275509*o*-.8660254037844385-1.2*o*-.5000000000000004," l -10.000000000000009 -17.32050807568877 l -19.999999999999986 34.641016151377556 l 10.000000000000009 17.32050807568877 z")," M ".concat(.34641016151377546*o-20,"  ").concat(.6*o-57.73502691896257," l -10 17.32050807568877 l 10 17.32050807568877 l 20 0 z m ").concat(40-.6928203230275509*o,"  ").concat(34.64101615137754-1.2*o," l 20 0 l -20 -34.64101615137754 l -20 0 z M ").concat(59.999999999999986+.34641016151377546*o*-.4999999999999998-.6*o*.8660254037844387,"  ").concat(11.547005383792495+.34641016151377546*o*.8660254037844387+.6*o*-.4999999999999998," l -10.000000000000002 -17.32050807568877 l -20 5.329070518200751e-15 l -9.999999999999996 17.320508075688775 z m ").concat(-49.99999999999999-.6928203230275509*o*-.4999999999999998+1.2*o*.8660254037844387,"  ").concat(17.320508075688785-.6928203230275509*o*.8660254037844387-1.2*o*-.4999999999999998," l -9.999999999999996 17.320508075688775 l 40 -1.0658141036401503e-14 l 9.999999999999996 -17.320508075688775 z M ").concat(.34641016151377546*o*-.5000000000000004-39.99999999999998-.6*o*-.8660254037844385,"  ").concat(46.18802153517008+.34641016151377546*o*-.8660254037844385+.6*o*-.5000000000000004," l 20 -7.105427357601002e-15 l 9.999999999999993 -17.320508075688778 l -10.000000000000009 -17.32050807568877 z m ").concat(9.999999999999975-.6928203230275509*o*-.5000000000000004+1.2*o*-.8660254037844385,"  ").concat(-51.96152422706633-.6928203230275509*o*-.8660254037844385-1.2*o*-.5000000000000004," l -10.000000000000009 -17.32050807568877 l -19.999999999999986 34.641016151377556 l 10.000000000000009 17.32050807568877 z")]},{value:" M ".concat(o/6.928203230275509-20,"  ").concat(o/4-57.73502691896257," l -10 17.32050807568877 l 70 121.2435565298214 l 20 0 z m ").concat(40-o/3.4641016151377544,"  ").concat(34.64101615137754-o/2," l 20 0 l -140 -242.4871130596428 l -20 0 z M ").concat(59.999999999999986+o/6.928203230275509*-.4999999999999998-o/4*.8660254037844387,"  ").concat(11.547005383792495+o/6.928203230275509*.8660254037844387+o/4*-.4999999999999998," l -10.000000000000002 -17.32050807568877 l -140 3.552713678800501e-14 l -9.999999999999996 17.320508075688775 z m ").concat(-49.99999999999999-o/3.4641016151377544*-.4999999999999998+o/2*.8660254037844387,"  ").concat(17.320508075688785-o/3.4641016151377544*.8660254037844387-o/2*-.4999999999999998," l -9.999999999999996 17.320508075688775 l 280 -7.105427357601002e-14 l 9.999999999999996 -17.320508075688775 z M ").concat(o/6.928203230275509*-.5000000000000004-39.99999999999998-o/4*-.8660254037844385,"  ").concat(46.18802153517008+o/6.928203230275509*-.8660254037844385+o/4*-.5000000000000004," l 20 -7.105427357601002e-15 l 69.99999999999994 -121.24355652982146 l -10.000000000000009 -17.32050807568877 z m ").concat(9.999999999999975-o/3.4641016151377544*-.5000000000000004+o/2*-.8660254037844385,"  ").concat(-51.96152422706633-o/3.4641016151377544*-.8660254037844385-o/2*-.5000000000000004," l -10.000000000000009 -17.32050807568877 l -139.9999999999999 242.48711305964292 l 10.000000000000009 17.32050807568877 z"),duration:325,easing:"easeInCubic"},{value:" M 0 -23.094010767585026 l -10 17.32050807568877 l 15 25.980762113533157 l 20 0 z m 0 -34.64101615137754 l 20 0 l -30 -51.96152422706631 l -20 0 z M 19.999999999999996 11.547005383792508 l -10.000000000000002 -17.32050807568877 l -29.999999999999996 7.105427357601002e-15 l -9.999999999999996 17.320508075688775 z m 30 17.320508075688764 l -9.999999999999996 17.320508075688775 l 59.99999999999999 -1.4210854715202004e-14 l 9.999999999999996 -17.320508075688775 z M -19.999999999999993 11.547005383792524 l 20 -7.105427357601002e-15 l 14.999999999999986 -25.980762113533167 l -10.000000000000009 -17.32050807568877 z m -29.999999999999993 17.320508075688785 l -10.000000000000009 -17.32050807568877 l -29.99999999999997 51.961524227066334 l 10.000000000000009 17.32050807568877 z",duration:1300/6,easing:"linear"},{value:" M -20 -57.73502691896257 l -10 17.32050807568877 l 10 17.32050807568877 l 20 0 z m 40 34.64101615137754 l 20 0 l -20 -34.64101615137754 l -20 0 z M 59.999999999999986 11.547005383792495 l -10.000000000000002 -17.32050807568877 l -20 5.329070518200751e-15 l -9.999999999999996 17.320508075688775 z m -49.99999999999999 17.320508075688785 l -9.999999999999996 17.320508075688775 l 40 -1.0658141036401503e-14 l 9.999999999999996 -17.320508075688775 z M -39.99999999999998 46.18802153517008 l 20 -7.105427357601002e-15 l 9.999999999999993 -17.320508075688778 l -10.000000000000009 -17.32050807568877 z m 9.999999999999975 -51.96152422706633 l -10.000000000000009 -17.32050807568877 l -19.999999999999986 34.641016151377556 l 10.000000000000009 17.32050807568877 z",easing:"easeOutCubic"}],duration:1300}),anime({targets:'svg#logo_anime stop[offset="1"]',"stop-color":[{value:"#01fdff"},{value:"#dc00ff"}],easing:"easeInCubic",delay:400,duration:1500}),anime({targets:"svg#logo_anime",filter:[{value:"drop-shadow(0px 0px 0px #8fd0ff)"},{value:"drop-shadow(0px 0px 15px #8fd0ff)"},{value:"drop-shadow(0px 0px 5px #8fd0ff)"},{value:"drop-shadow(0px 0px 0px #8fd0ff)"}],easing:"easeInOutCubic",delay:1300,duration:800}),setTimeout((function(){n.style.transition="0.7s",n.style.opacity=0,WindowSystem.listView=!0,window.WindowSystem.away=!1,setTimeout((function(){n.remove(),WindowSystem.listView=!1}),700)}),3e3)}))},function(t,e){document.querySelector("#gestureHandler")},function(t,e){addEventListener("DOMContentLoaded",(function(){var t=new URLSearchParams(location.search);if("shortcut"===t.get("call"))switch(t.get("content")){case"shortcut1":popup("hi","opened by shortcut 1!");break;case"shortcut2":popup("hi",["opened by shortcut 1!","yay"])}}))},,function(t,e,n){"use strict";n.r(e);var o=n(1),i=n(3),r=n.n(i);function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var s=function(t){t.portMain;var e=function(t){var e,n=t.data,o=n.type,i=n.content;switch(o){case"consoleLog":(e=console).log.apply(e,["sw:"].concat(a(i)))}portMain.start()};"serviceWorker"in navigator&&r.a.register().then((function(n){if(console.log("succeeded"),n.active){console.log("sw is active");var o=new MessageChannel,i=o.port1,r=o.port2;n.active.postMessage({type:"init"},[r]),t.portMain=i,i.onmessage=e}else console.log("sw is NOT active")})).catch((function(t){console.error("error:",t)}))},l=n(8),u=n(9),d=function(){globalThis.safeAreaTop=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top"),globalThis.safeAreaLeft=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-left"),globalThis.safeAreaBottom=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom"),globalThis.safeAreaRight=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-right")};window.term=new l.Terminal,window.hakqloApp={print:function(){return term.write(o.a.apply(void 0,arguments).replace(/\n/g,"\r\n"))},println:function(){return term.writeln(o.a.apply(void 0,arguments).replace(/\n/g,"\r\n"))}};var f=new u.FitAddon;term.loadAddon(f),term.open(document.querySelector("#xterm_container")),f.fit(),d(),window.addEventListener("resize",(function(t){f.fit(),d(),hakqloApp.println("resized...")})),window.addEventListener("DOMContentLoaded",(function(){!function(t){var e=t.log,n=t.warn,o=t.error,i=function(){var t=Math.ceil(safeAreaTop/term.getOption("lineHeight")),e=Math.ceil(2*safeAreaLeft/term.getOption("lineHeight"));term.buffer.baseY<=t&&term.write("[".concat(t,";").concat(e+1,"H"))};t.log=function(){var t;e.apply(void 0,arguments),i(),hakqloApp.print("[39m"),(t=hakqloApp).println.apply(t,arguments)},t.warn=function(){var t;n.apply(void 0,arguments),i(),hakqloApp.print("[33m"),(t=hakqloApp).println.apply(t,arguments)},t.error=function(){var t;o.apply(void 0,arguments),i(),hakqloApp.print("[31m"),(t=hakqloApp).println.apply(t,arguments)},secretizeFunc(t.log),secretizeFunc(t.warn),secretizeFunc(t.error)}(globalThis.console)}));var p;n(10),n(5);"ja"!=navigator.language&&"ja-JP"!=navigator.language||(p="ja",document.body.setAttribute("lang",p));n(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){var e="function"==typeof Map?new Map:void 0;return(y=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return g(t,arguments,L(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_(o,t)})(t)}function g(t,e,n){return(g=b()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&_(i,n.prototype),i}).apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=0,A=100/screen.width/.6/50,S=0;window.addEventListener("resize",(function(){A=100/screen.width/.6/50}));var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(c,t);var e,n,o,i,r,a=(e=c,n=b(),function(){var t,o=L(e);if(n){var i=L(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return w(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),M(v(t=a.call(this)),"winIndex",void 0),M(v(t),"ws",window.WindowSystem),M(v(t),"ready",!1),M(v(t),"cover",document.createElement("div")),t}return o=c,(i=[{key:"connectedCallback",value:function(){var t=this;this.ready=!0,this.updateIndex(),this.appendChild(this.cover),this.cover.setAttribute("class","cover"),requestAnimationFrame(this.draw.bind(this));var e={};this.cover.addEventListener("touchstart",(function(t){E=t.changedTouches[0].screenX*A,S=WindowSystem.scrollLength,WindowSystem.container.classList.add("scrolling")}),e),this.cover.addEventListener("touchmove",(function(t){t.preventDefault();var e=E-t.changedTouches[0].screenX*A+S;if(1===WindowSystem.windowList.length&&(e>.4||e<-.4))return 0;WindowSystem.scrollTo(e)}),e),this.cover.addEventListener("touchend",(function(t){WindowSystem.container.classList.remove("scrolling"),WindowSystem.bringToCenter()}),e),this.cover.addEventListener("click",(function(e){t.focus()}),e),this.addEventListener("click",(function(t){t.stopPropagation()}))}},{key:"focus",value:function(){WindowSystem.currentWin=this.winIndex,WindowSystem.listView=!1}},{key:"updateIndex",value:function(){this.winIndex=this.ws.windowList.indexOf(this)}},{key:"draw",value:function(){if(!1===this.ready)return console.log("not ready"),0;if(this.classList.contains("focus"))this.style.transform=null,this.style.opacity=1;else if(this.classList.contains("away"))this.style.opacity=0,this.style.transform="translateZ(-100px)";else{var t=(n=this.winIndex,o=this.ws.scrollLength,i=this.ws.windowList.length,r=n-o,(Math.abs(r)>Math.abs(r+i)?r+i:Math.abs(r)>Math.abs(r-i)?r-i:r)*Math.PI/4),e=Math.cos(t);this.style.transform="scale(".concat(.6,", ").concat(.6,") translateZ(").concat(70*e,"px) translateX(").concat(50*Math.sin(t),"%)"),this.style.opacity=Math.pow(e,1.5)}var n,o,i,r;requestAnimationFrame(this.draw.bind(this))}},{key:"onfocused",value:function(){}},{key:"onblur",value:function(){}}])&&m(o.prototype,i),r&&m(o,r),c}(y(HTMLElement));customElements.define("app-window",x);var T={windowList:[],currentWin:0,container:document.querySelector("#windowsContainer"),scrollLength:0,_away:!1,_listView:!0,init:function(){},add:function(t){var e=document.createElement("app-window");return this.windowList.push(e),this.container.appendChild(e),t&&e.appendChild(t),this.moveTo(e.winIndex),e},moveTo:function(t){var e=this;if(t>=this.windowList.length)return 0;this.listView=!0,this.currentWin=t,setTimeout((function(){T.container.classList.add("scrolling"),anime({targets:e,scrollLength:t,duration:300,easing:"easeInOutQuint"}),setTimeout((function(){e.listView=!1,T.container.classList.remove("scrolling")}),300)}),200)},draw:function(){},scrollTo:function(t){var e=t%this.windowList.length;e<0&&(e+=this.windowList.length),3===e&&(e=0),this.scrollLength=e},bringToCenter:function(){this.scrollLength=Math.round(this.scrollLength)},get away(){return this._away},set away(t){t?(this.container.classList.add("away"),this.listView||this.windowList[this.currentWin].onblur()):(this.container.classList.remove("away"),this.listView||this.windowList[this.currentWin].focus()),this._away=t},set listView(t){if(t)for(var e in this.scrollLength=this.currentWin,this.windowList)e==this.currentWin?(this.windowList[e].classList.remove("focus"),this.windowList[e].onblur()):this.windowList[e].classList.remove("away");else for(var n in this.windowList)n==this.currentWin?(this.windowList[n].classList.add("focus"),this.windowList[n].onfocused()):this.windowList[n].classList.add("away");this._listView=t},get listView(){return this._listView}};T.container.addEventListener("click",(function(){T.away=!0})),window.WindowSystem=T,window.WS=window.WindowSystem,T.away=!0;T.add();T.add();var z=document.createElement("div");z.classList.add("testing"),z.onclick=function(){return T.listView=1},z.innerText="cfghejkdnbhs\nvgjckanbdsjwb\nhsdsjk",T.add(z);n(11),n(12);s(window)}],[[14,0,1]]]);