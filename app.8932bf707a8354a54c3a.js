(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"a",(function(){return format}));var dialog_polyfill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);window.anime=animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__.a;var isInStandaloneMode=function(){return window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches||window.navigator.standalone||document.referrer.includes("android-app://")};function format(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.toString().replace(t,(function(e,t,r,o){var i=n.shift();switch(o){case"s":i=""+i;break;case"d":i=Number(i);break;case"j":i=JSON.stringify(i)}return t?(n.unshift(i),e):i}))),n.length&&(e+=" "+n.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))}global.isPWA=isInStandaloneMode(),window.runExternal=function(url){var fetch_option=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET",headers:{"Content-Type":"text/javascript"},mode:"cors"};return new Promise((function(resolve,reject){fetch(url,fetch_option).then((function(e){return e.text()})).then((function(t){return resolve(eval(t))})).catch((function(e){return reject(e)}))}))},window.popup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{OK:"ok"},r=document.querySelectorAll("dialog"),o=r[r.length-1];r.forEach((function(e){e.setAttribute("class","sent-back")}));var i=document.createElement("dialog");dialog_polyfill__WEBPACK_IMPORTED_MODULE_0__.a.registerDialog(i),document.body.appendChild(i);var a=document.createElement("form");i.appendChild(a),a.setAttribute("method","dialog");var c=document.createElement("p");a.appendChild(c),c.setAttribute("class","title"),c.innerText=e;var s=document.createElement("button");s.innerText="cancel",s.setAttribute("value","cancel"),c.appendChild(s),t.forEach((function(e){var t=document.createElement("p");if("string"==typeof e){var n=document.createElement("label");t.appendChild(n),n.innerText=e}else e instanceof HTMLElement&&t.appendChild(e);a.appendChild(t)}));var l=document.createElement("menu");for(var u in a.appendChild(l),n){var d=document.createElement("button");d.innerHTML=u,l.appendChild(d),d.setAttribute("value",n[u]),d.setAttribute("type","submit")}return new Promise((function(e){i.addEventListener("close",(function(){setTimeout((function(){return i.remove()}),500),o&&o.removeAttribute("class"),e(i.returnValue)})),setTimeout((function(){return i.showModal()}),100)}))},window.createElementFromHTML=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},window.secretizeFunc=function(e){e.name?e.toString=function(){return"".concat(e.name,"(){ [ secret code ] }")}:e.toString=function(){return"()=>{ [ secret code ] }"}}}).call(this,__webpack_require__(6))},,,,function(e,t,n){"use strict";n.p},,,,,,,function(e,t){var n=document.querySelector("#startup");window.addEventListener("load",(function(e){console.log("load happened"),setTimeout((function(){n.remove(),console.log("willbe removed in 100ms")}),100)}))},function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),i=n(0),a=n(3),c=n.n(a);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){e.portMain;var t=function(e){var t,n=e.data,r=n.type,o=n.content;switch(r){case"consoleLog":(t=console).log.apply(t,["sw:"].concat(s(o)))}portMain.start()};"serviceWorker"in navigator&&(c.a.register().then((function(n){if(console.log("succeeded"),n.active){console.log("sw is active");var r=new MessageChannel,o=r.port1,i=r.port2;n.active.postMessage({type:"init"},[i]),e.portMain=o,o.onmessage=t}else console.log("sw is NOT active")})).catch((function(e){console.error("error:",e)})),e.isPWA?console.log("this is in PWA"):(console.log("Not PWA: going to /install.html"),location.href="./install.html"))},d=n(9),p=n(10),f=function(){globalThis.safeAreaTop=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top"),globalThis.safeAreaLeft=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-left"),globalThis.safeAreaBottom=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom"),globalThis.safeAreaRight=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-right")};window.term=new d.Terminal,window.hakqloApp={print:function(){return term.write(i.a.apply(void 0,arguments).replace(/\n/g,"\r\n"))},println:function(){return term.writeln(i.a.apply(void 0,arguments).replace(/\n/g,"\r\n"))}};var h=new p.FitAddon;term.loadAddon(h),term.open(document.querySelector("#xterm_container")),h.fit(),f(),window.addEventListener("resize",(function(e){h.fit(),f(),hakqloApp.println("resized...")})),window.addEventListener("DOMContentLoaded",(function(){!function(e){var t=e.log,n=e.warn,r=e.error,o=function(){var e=Math.ceil(safeAreaTop/term.getOption("lineHeight")),t=Math.ceil(2*safeAreaLeft/term.getOption("lineHeight"));term.buffer.baseY<=e&&term.write("[".concat(e,";").concat(t+1,"H"))};e.log=function(){var e;t.apply(void 0,arguments),o(),hakqloApp.print("[39m"),(e=hakqloApp).println.apply(e,arguments)},e.warn=function(){var e;n.apply(void 0,arguments),o(),hakqloApp.print("[33m"),(e=hakqloApp).println.apply(e,arguments)},e.error=function(){var e;r.apply(void 0,arguments),o(),hakqloApp.print("[31m"),(e=hakqloApp).println.apply(e,arguments)},secretizeFunc(e.log),secretizeFunc(e.warn),secretizeFunc(e.error)}(globalThis.console)}));var w;n(11),n(4),n.p;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t="function"==typeof Map?new Map:void 0;return(b=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _(e,arguments,A(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),E(r,e)})(e)}function _(e,t,n){return(_=L()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&E(o,n.prototype),o}).apply(null,arguments)}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}"ja"!=navigator.language&&"ja-JP"!=navigator.language||(w="ja",document.body.setAttribute("lang",w)),window.WindowSystem={windowList:[],currentWin:0,container:document.querySelector("#windowsContainer"),scrollLength:0,_away:!1,_listView:!0,init:function(){},add:function(e){var t=document.createElement("app-window");return this.windowList.push(t),this.container.appendChild(t),e&&t.appendChild(e),t},draw:function(){},scrollTo:function(e){var t=e%this.windowList.length;this.scrollLength=t},bringToCenter:function(){this.scrollLength=Math.round(this.scrollLength)},get away(){return this._away},set away(e){e?this.container.classList.add("away"):this.container.classList.remove("away"),this._away=e},set listView(e){if(e)for(var t in this.scrollLength=this.currentWin,this.windowList)t==this.currentWin?this.windowList[t].classList.remove("focus"):this.windowList[t].classList.remove("away");else for(var n in this.windowList)n==this.currentWin?this.windowList[n].classList.add("focus"):this.windowList[n].classList.add("away");this._listView=e},get listView(){return this._listView}};var M=0,T=100/screen.width/.8/50,k=0;window.addEventListener("resize",(function(){T=100/screen.width/.8/50}));var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(s,e);var t,n,r,i,a,c=(t=s,n=L(),function(){var e,r=A(t);if(n){var o=A(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return g(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),S(v(e=c.call(this)),"winIndex",void 0),S(v(e),"ws",window.WindowSystem),S(v(e),"ready",!1),e}return r=s,(i=[{key:"connectedCallback",value:function(){var e=this;this.ready=!0,this.updateIndex(),requestAnimationFrame(this.draw.bind(this));var t={},n=function(t){e.ws.listView&&t.stopPropagation()};this.addEventListener("touchstart",(function(e){n(e),M=e.changedTouches[0].screenX*T,k=WindowSystem.scrollLength,WindowSystem.container.classList.add("scrolling")}),t),this.addEventListener("touchmove",(function(e){n(e);var t=M-e.changedTouches[0].screenX*T+k;if(1===WindowSystem.windowList.length&&(t>.4||t<-.4))return 0;WindowSystem.scrollTo(t)}),t),this.addEventListener("touchend",(function(e){n(e),WindowSystem.container.classList.remove("scrolling"),WindowSystem.bringToCenter()}),t),this.addEventListener("click",(function(t){n(t),WindowSystem.currentWin=e.winIndex,WindowSystem.listView=!1}),t)}},{key:"updateIndex",value:function(){this.winIndex=this.ws.windowList.indexOf(this)}},{key:"draw",value:function(){if(!1===this.ready)return console.log("not ready"),0;if(this.classList.contains("focus"))this.style.transform=null,this.style.opacity=1;else if(this.classList.contains("away"))this.style.opacity=0;else{var e=(n=this.winIndex,r=this.ws.scrollLength,i=this.ws.windowList.length,a=n-r,(Math.abs(a)>Math.abs(a+i)?a+i:Math.abs(a)>Math.abs(a-i)?a-i:a)*Math.PI/4),t=Math.cos(e);this.style.transform="scale(".concat(.8,", ").concat(.8,") translateZ(").concat(70*(t-1),"px) translateX(").concat(50*Math.sin(e),"%)"),o.a.safari||(this.style.opacity=Math.pow(t,1.5))}var n,r,i,a;requestAnimationFrame(this.draw.bind(this))}}])&&y(r.prototype,i),a&&y(r,a),s}(b(HTMLElement));customElements.define("app-window",j);WindowSystem.add();var O=document.createElement("div");O.onclick=function(){return alert("gyaaaabdhxjsa")},O.innerText="cfghejkdnbhs\nvgjckanbdsjwb\nhsdsjk",WindowSystem.add(O),WindowSystem.add(),u(window)}],[[12,0,1]]]);