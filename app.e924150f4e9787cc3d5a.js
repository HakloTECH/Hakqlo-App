(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"a",(function(){return format}));var dialog_polyfill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);window.anime=animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__.a;var isInStandaloneMode=function(){return window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches||window.navigator.standalone||document.referrer.includes("android-app://")};function format(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.toString().replace(t,(function(e,t,r,o){var i=n.shift();switch(o){case"s":i=""+i;break;case"d":i=Number(i);break;case"j":i=JSON.stringify(i)}return t?(n.unshift(i),e):i}))),n.length&&(e+=" "+n.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))}global.isPWA=isInStandaloneMode(),window.runExternal=function(url){var fetch_option=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET",headers:{"Content-Type":"text/javascript"},mode:"cors"};return new Promise((function(resolve,reject){fetch(url,fetch_option).then((function(e){return e.text()})).then((function(t){return resolve(eval(t))})).catch((function(e){return reject(e)}))}))},window.popup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{OK:"ok"},r=document.querySelectorAll("dialog"),o=r[r.length-1];r.forEach((function(e){e.setAttribute("class","sent-back")}));var i=document.createElement("dialog");dialog_polyfill__WEBPACK_IMPORTED_MODULE_0__.a.registerDialog(i),document.body.appendChild(i);var a=document.createElement("form");i.appendChild(a),a.setAttribute("method","dialog");var c=document.createElement("p");a.appendChild(c),c.setAttribute("class","title"),c.innerText=e;var s=document.createElement("button");s.innerText="cancel",s.setAttribute("value","cancel"),c.appendChild(s),t.forEach((function(e){var t=document.createElement("p");if("string"==typeof e){var n=document.createElement("label");t.appendChild(n),n.innerText=e}else e instanceof HTMLElement&&t.appendChild(e);a.appendChild(t)}));var l=document.createElement("menu");for(var u in a.appendChild(l),n){var d=document.createElement("button");d.innerHTML=u,l.appendChild(d),d.setAttribute("value",n[u]),d.setAttribute("type","submit")}return new Promise((function(e){i.addEventListener("close",(function(){setTimeout((function(){return i.remove()}),500),o&&o.removeAttribute("class"),e(i.returnValue)})),setTimeout((function(){return i.showModal()}),100)}))},window.createElementFromHTML=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},window.secretizeFunc=function(e){e.name?e.toString=function(){return"".concat(e.name,"(){ [ secret code ] }")}:e.toString=function(){return"()=>{ [ secret code ] }"}}}).call(this,__webpack_require__(5))},,,,function(e,t,n){"use strict";n.p},,,,,,,function(e,t){var n=document.querySelector("#startup");window.addEventListener("load",(function(e){console.log("load happened"),setTimeout((function(){n.remove(),console.log("willbe removed in 100ms")}),100)}))},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function c(e,t,n){return(c=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.WindowSystem={windowList:[],currentWin:0,container:document.querySelector("#windowsContainer"),scrollLength:0,_away:!1,_listView:!0,init:function(){},add:function(e){var t=document.createElement("app-window");return this.windowList.push(t),this.container.appendChild(t),e&&t.appendChild(e),t},draw:function(){},scrollTo:function(e){var t=e%this.windowList.length;this.scrollLength=t},bringToCenter:function(){this.scrollLength=Math.round(this.scrollLength)},get away(){return this._away},set away(e){e?this.container.classList.add("away"):this.container.classList.remove("away"),this._away=e},set listView(e){if(e)for(var t in this.scrollLength=this.currentWin,this.windowList)t==this.currentWin?this.windowList[t].classList.remove("focus"):this.windowList[t].classList.remove("away");else for(var n in this.windowList)n==this.currentWin?this.windowList[n].classList.add("focus"):this.windowList[n].classList.add("away");this._listView=e},get listView(){return this._listView}};var p=0,f=100/screen.width/.7/50,h=0;window.addEventListener("resize",(function(){f=100/screen.width/.7/50}));var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(y,e);var t,n,a,c,w,m=(t=y,n=s(),function(){var e,r=u(t);if(n){var i=u(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return o(this,e)});function y(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),d(i(e=m.call(this)),"winIndex",void 0),d(i(e),"ws",window.WindowSystem),d(i(e),"ready",!1),e}return a=y,(c=[{key:"connectedCallback",value:function(){var e=this;this.ready=!0,this.updateIndex(),requestAnimationFrame(this.draw.bind(this));var t={},n=function(t){e.ws.listView&&t.stopPropagation()};this.addEventListener("touchstart",(function(e){n(e),p=e.changedTouches[0].screenX*f,h=WindowSystem.scrollLength,WindowSystem.container.classList.add("scrolling")}),t),this.addEventListener("touchmove",(function(e){n(e);var t=p-e.changedTouches[0].screenX*f+h;if(1===WindowSystem.windowList.length&&(t>.4||t<-.4))return 0;WindowSystem.scrollTo(t)}),t),this.addEventListener("touchend",(function(e){n(e),WindowSystem.container.classList.remove("scrolling"),WindowSystem.bringToCenter()}),t),this.addEventListener("click",(function(t){n(t),WindowSystem.currentWin=e.winIndex,WindowSystem.listView=!1}),t)}},{key:"updateIndex",value:function(){this.winIndex=this.ws.windowList.indexOf(this)}},{key:"draw",value:function(){if(!1===this.ready)return console.log("not ready"),0;if(this.classList.contains("focus"))this.style.transform=null,this.style.opacity=1;else if(this.classList.contains("away"))this.style.opacity=0;else{var e=(n=this.winIndex,r=this.ws.scrollLength,o=this.ws.windowList.length,i=n-r,(Math.abs(i)>Math.abs(i+o)?i+o:Math.abs(i)>Math.abs(i-o)?i-o:i)*Math.PI/4),t=Math.cos(e);this.style.transform="scale(".concat(.7,", ").concat(.7,") translateZ(").concat(70*(t-1),"px) translateX(").concat(50*Math.sin(e),"%)"),this.style.opacity=Math.pow(t,1.5)}var n,r,o,i;requestAnimationFrame(this.draw.bind(this))}}])&&r(a.prototype,c),w&&r(a,w),y}(a(HTMLElement));customElements.define("app-window",w);WindowSystem.add();var m=document.createElement("div");m.onclick=function(){return alert("gyaaaabdhxjsa")},m.innerText="cfghejkdnbhs\nvgjckanbdsjwb\nhsdsjk",WindowSystem.add(m),WindowSystem.add()},function(e,t,n){"use strict";n.r(t);n(10);var r=n(0),o=n(3),i=n.n(o);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){e.portMain;var t=function(e){var t,n=e.data,r=n.type,o=n.content;switch(r){case"consoleLog":(t=console).log.apply(t,["sw:"].concat(a(o)))}portMain.start()};"serviceWorker"in navigator&&(i.a.register().then((function(n){if(console.log("succeeded"),n.active){console.log("sw is active");var r=new MessageChannel,o=r.port1,i=r.port2;n.active.postMessage({type:"init"},[i]),e.portMain=o,o.onmessage=t}else console.log("sw is NOT active")})).catch((function(e){console.error("error:",e)})),e.isPWA?console.log("this is in PWA"):(console.log("Not PWA: going to /install.html"),location.href="./install.html"))},l=n(8),u=n(9),d=function(){globalThis.safeAreaTop=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top"),globalThis.safeAreaLeft=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-left"),globalThis.safeAreaBottom=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom"),globalThis.safeAreaRight=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-right")};window.term=new l.Terminal,window.hakqloApp={print:function(){return term.write(r.a.apply(void 0,arguments).replace(/\n/g,"\r\n"))},println:function(){return term.writeln(r.a.apply(void 0,arguments).replace(/\n/g,"\r\n"))}};var p=new u.FitAddon;term.loadAddon(p),term.open(document.querySelector("#xterm_container")),p.fit(),d(),window.addEventListener("resize",(function(e){p.fit(),d(),hakqloApp.println("resized...")})),window.addEventListener("DOMContentLoaded",(function(){!function(e){var t=e.log,n=e.warn,r=e.error,o=function(){var e=Math.ceil(safeAreaTop/term.getOption("lineHeight")),t=Math.ceil(2*safeAreaLeft/term.getOption("lineHeight"));term.buffer.baseY<=e&&term.write("[".concat(e,";").concat(t+1,"H"))};e.log=function(){var e;t.apply(void 0,arguments),o(),hakqloApp.print("[39m"),(e=hakqloApp).println.apply(e,arguments)},e.warn=function(){var e;n.apply(void 0,arguments),o(),hakqloApp.print("[33m"),(e=hakqloApp).println.apply(e,arguments)},e.error=function(){var e;r.apply(void 0,arguments),o(),hakqloApp.print("[31m"),(e=hakqloApp).println.apply(e,arguments)},secretizeFunc(e.log),secretizeFunc(e.warn),secretizeFunc(e.error)}(globalThis.console)}));var f;n(11),n(4),n.p;"ja"!=navigator.language&&"ja-JP"!=navigator.language||(f="ja",document.body.setAttribute("lang",f));n(12);s(window)}],[[13,0,1]]]);